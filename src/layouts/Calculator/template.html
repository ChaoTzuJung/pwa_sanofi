<div class="calculator-area">
    <div class="title">Calculator</div>
    <div class="description">Determine the severity of atopic dermatitis in each of the four body regions.</div>
    <!-- <div class="tabs desktop">
        @click="switchTab(tab.component); selectTab(tab.abbreviation)"
        <div
            v-for="(tab,index) in Object.values(tabs)"
            :key="tab.name"
            class="tab"
            :class="{'active': tab.component === currentTabComponent}"
            @click="changeTab(tab)"
        >
            <div class="tab-area">
                <div class="no">
                    <div  class="ball">
                        {{tab.id}}
                    </div>
                </div>
                <div class="wordings">
                    <div class="text">{{tab.name}}</div>
                    <div class="score">score: {{tab.score}}</div>
                </div>
            </div>
            TODO: 移除 <div v-if="valid(tab)" class="valid-text">*Required fields.</div>
        </div>
            TODO: 移除 :class="{'active': $store.state.body.Result.isSelect}
        <div class="tab" @click="checkTab">
            <div class="tab-area">
                <div class="no">
                    <div class="ball">5</div>
                </div>
                <div class="wordings">
                    <div class="text">Result</div>
                </div>
            </div>
        </div>
    </div> -->
    <Tab
        :tabs="tabs"
        :current="currentTabComponent"
        :canCheckTab="canCheckTab"
        @changeTab="changeTab"
    >
    </Tab>
    <div class="swiper">
        <swiper :options="swiperOption" ref="mySwiper">
            <swiper-slide
                v-for="tab in tabs"
                :key="tab.name"
            >
                <div
                    class="tab-container"
                    :class="{
                        'active': tab.component === currentTabComponent,
                        'valid': valid(tab)
                    }"
                >
                    <div
                        class="tab-area"
                        @click="changeTab(tab)"
                    >
                        <div class="no" :class="{'checked': tab.complete}">
                            <div class="ball" v-if="!tab.complete">{{tab.id}}</div>
                        </div>
                        <div class="wordings">
                            <div class="text">{{tab.name}}</div>
                            <div class="score" v-if="tab.hasOwnProperty('score')">score: {{tab.score}}</div>
                        </div>
                    </div>
                    <div v-if="valid(tab)" class="valid-text">*Required fields.</div>
                </div>
            </swiper-slide>
        </swiper>
    </div>
    <keep-alive>
        <!-- :is="currentTabComponent" -->
        <component 
            v-bind="{
                goToNextSlide: goToNextSlide,
                goToFirstSlide: goToFirstSlide
            }"
            :is="currentTabComponent"
            :headneckScore="tabs.HeadNeckSection.score"
            :upperScore="tabs.UpperExtremitiesSection.score"
            :trunkScore="tabs.TrunkSection.score"
            :lowerScore="tabs.LowerExtremitiesSection.score"
            @changeTab="changeTab"
            @changeBodyScore="changeBodyScore"
            @changeTabStatus="changeTabStatus"
            @goToResult="goToResult"
        >
        </component>
    </keep-alive>
</div>